# JoinMarket GUI service
# /etc/systemd/system/jmg.service

[Unit]
Description=JMG
Wants=bitcoin.service jmwalletd.service
After=bitcoin.service jmwalletd.service

[Service]
ExecStartPre=/usr/bin/is_not_shutting_down.sh
ExecStartPre=/usr/bin/is_mainnet.sh
WorkingDirectory=/opt/mynode/jmg
ExecStart=/bin/sh -c 'cd /opt/mynode/jmg && ./jmg_venv/bin/python src/app.py'

User=joinmarket
Group=joinmarket
Type=simple
TimeoutSec=120
Restart=always
RestartSec=30
StandardOutput=syslog
StandardError=syslog
SyslogIdentifier=jmg

[Install]
WantedBy=multi-user.target